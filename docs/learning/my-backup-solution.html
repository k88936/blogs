<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>My backup solution | k88936's blogs</title>
    <meta name="description" content="A VitePress Site">
    <meta name="generator" content="VitePress v2.0.0-alpha.12">
    <link rel="preload stylesheet" href="/blogs/assets/style.BWrs1eoD.css" as="style">
    <link rel="preload stylesheet" href="/blogs/vp-icons.css" as="style">
    
    <script type="module" src="/blogs/assets/app.C4KAUtdy.js"></script>
    <link rel="preload" href="/blogs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blogs/assets/chunks/theme.GnLqe7jo.js">
    <link rel="modulepreload" href="/blogs/assets/chunks/framework.CgieQmbq.js">
    <link rel="modulepreload" href="/blogs/assets/learning_my-backup-solution.md.wo_3LPs2.lean.js">
    <link rel="icon" type="image/x-icon" href="/icon.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-9f75dce3><div class="VPNavBar" data-v-9f75dce3 data-v-2a96a3d0><div class="wrapper" data-v-2a96a3d0><div class="container" data-v-2a96a3d0><div class="title" data-v-2a96a3d0><div class="VPNavBarTitle" data-v-2a96a3d0 data-v-1e38c6bc><a class="title" href="/blogs/" data-v-1e38c6bc><!--[--><!--]--><!--[--><img class="VPImage logo" src="/blogs/icon.png" alt data-v-8426fc1a><!--]--><span data-v-1e38c6bc>k88936&#39;s blogs</span><!--[--><!--]--></a></div></div><div class="content" data-v-2a96a3d0><div class="content-body" data-v-2a96a3d0><!--[--><!--]--><div class="VPNavBarSearch search" data-v-2a96a3d0><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-2a96a3d0 data-v-39714824><span id="main-nav-aria-label" class="visually-hidden" data-v-39714824> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blogs/" tabindex="0" data-v-39714824 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blogs/learning/" tabindex="0" data-v-39714824 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Learning</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blogs/diary/" tabindex="0" data-v-39714824 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Diary</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blogs/art/" tabindex="0" data-v-39714824 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Art</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blogs/about.html" tabindex="0" data-v-39714824 data-v-e56f3d57><!--[--><span data-v-e56f3d57>About</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-2a96a3d0 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-2a96a3d0 data-v-0394ad82 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/k88936" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-2a96a3d0 data-v-bb2aa2f0 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/k88936" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-2a96a3d0 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-2a96a3d0><div class="divider-line" data-v-2a96a3d0></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-1df9f90f data-v-8acdfeb5><div class="container" data-v-8acdfeb5><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-8acdfeb5 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-1df9f90f data-v-aff0b8d7><div class="VPDoc has-aside" data-v-aff0b8d7 data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-2d0bdf9b><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _blogs_learning_my-backup-solution" data-v-7011f0d8><div><p>前几天wsl挂载错误手欠unregister了一下，把整个vhd给删了，又陆陆续续花了几天重新配环境，痛定思痛，决定好好备份一下。</p><h1 id="xxxrc等配置文件" tabindex="-1">.xxxrc等配置文件 <a class="header-anchor" href="#xxxrc等配置文件" aria-label="Permalink to “.xxxrc等配置文件”">​</a></h1><p>包括.vimrc等，还额外存了一个软件包列表。</p><ul><li>arch backup</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Qe</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $1}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .configure/backup/arch_packages</span></span></code></pre></div><p>恢复</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .configure/backup/arch_packages</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --noconfirm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --needed</span></span></code></pre></div><ul><li>win scoop backup</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;NR &gt; 3 &amp;&amp; $1 != &quot;&quot; {print $1}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .configure/backup/scoop_packages</span></span></code></pre></div><p>retore</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bucket</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extras</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bucket</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> java</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .configure/backup/scoop_packages</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div><p>这部分大多是文本文件，直接在root建仓库丢gitee上</p><blockquote><p>成本：0</p></blockquote><h1 id="archlinux全盘备份" tabindex="-1">archlinux全盘备份 <a class="header-anchor" href="#archlinux全盘备份" aria-label="Permalink to “archlinux全盘备份”">​</a></h1><p>archlinux真机有1t固态，用了100多g，dd了个200g的文件，mkfs成ext4，用rsync从根目录复制进去。</p><blockquote><p>成本：0</p></blockquote><p>archlinux真机自带一个sd卡槽，淘宝一个512g tf卡，竟然还带sd转接的套，把备份文件复制到上面。</p><p>大概传了一晚上，学校晚上断电，但是电池撑到了第二天早上。<br> 之前想过直接rsync到tf卡上面去，但是那个tf卡不支持日志系统，格式化成ext4失败，而且读写速度感人，于是放弃。<br> 但是我再用windows读取不了了，无所谓了。</p><blockquote><p>成本：26 小作坊真是量大管饱</p></blockquote><p>当然我有个外接的4tb机械硬盘，丢进去。<br> 买的时候写错地址给送到江苏去了。</p><blockquote><p>成本：500加硬盘座 还可以吧，存点别的也能用上</p></blockquote><h1 id="wsl" tabindex="-1">WSL <a class="header-anchor" href="#wsl" aria-label="Permalink to “WSL”">​</a></h1><p>这方面比较简单，export到vhdx，再重新import in place每次读写都是对vhdx文件了，备份直接复制，机械，固态，tf卡随处丢一份。</p><p>wsl 有个.wslconfig，直接把上面那个仓库克隆到目录里，git add 这个一起同步了。这样我的.vimrc .ideavimrc也能够复用了，之前没在win上用jetbrains就是因为复制配置文件到win上麻烦。</p><p>成本：0？</p><h1 id="windows全盘备份" tabindex="-1">windows全盘备份 <a class="header-anchor" href="#windows全盘备份" aria-label="Permalink to “windows全盘备份”">​</a></h1><p>win在这方面还是很友好的，自带的备份恢复就够用</p><p>额外安了块2t的固态，不算成本吧。本来c盘就不够用了</p><h1 id="媒体文件" tabindex="-1">媒体文件 <a class="header-anchor" href="#媒体文件" aria-label="Permalink to “媒体文件”">​</a></h1><p>在用syncthing，多平台都有，能自动把我的手机相册备份到电脑上。在电脑上我再定期打包，机械，固态，tf卡各丢一份，这部分自动化脚本没考虑，我手机256g从前年暑校到上个月存满照片视频，频率很低了。</p><h1 id="百度网盘" tabindex="-1">百度网盘 <a class="header-anchor" href="#百度网盘" aria-label="Permalink to “百度网盘”">​</a></h1><p>小水管我的解决方法：</p><p>首先不想让百度之流进我的电脑手机。</p><p>其次脚本api啥的看过先例给封号了，网盘里还有别的东西，不敢冒险。</p><p>一个闲置手机（vivo x5，安卓5.0没错是5.0还不是5.1，当年有个游戏就是不到5.1玩不了。高中时用来作业帮，还费了大劲降级，root，搞linux deploy，配vim，写java.......算是linux启蒙了）拿到大学配了ftp，当然也用过上面提到的syncthing，然后用百度网盘的相册自动上传，外接充电宝（没忘我们学校晚上断电吧），也作为一个24小时小水管下载东西.第一学期期末就坏了，现在丢在老家了，是个功臣。</p><p>其实不用root，syncthing安卓端加百度网盘自动备份就够了，现在还缺一个旧手机.</p></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about.md\":\"DoGE1XpB\",\"diary_a-diy-to-thinkpad-x1-tablet-keyboard.md\":\"B8Dtxubj\",\"diary_a-memory-of-fuzhou.md\":\"DWFYo_3_\",\"diary_a-memory-of-nanjing.md\":\"BTUnABYn\",\"diary_about-writing.md\":\"biaUKUA1\",\"diary_birthday-in-2025.md\":\"CrXrMnrw\",\"diary_eve-of-5.20.md\":\"lzD5SL9h\",\"diary_index.md\":\"envX5OvO\",\"diary_may.md\":\"KPQKgs8W\",\"diary_reading-_stories-of-your-life- and-others_.md\":\"ClZ478OS\",\"drafts_2024-4-25-书.md\":\"CMpFXKVU\",\"drafts_2024-8-13-how-to-cross-compile-qt6-application-to-windows-application-in-linux-platform.md\":\"faqHBSwq\",\"drafts_2024-9-15-how-to-use-msvc-to-compile-qt-project-in-wsl2-clion-env.md\":\"B9Fm46Qg\",\"drafts_2025-4-3-女子朋友.md\":\"Cl_Pb90N\",\"drafts_clion刷leetcode.md\":\"BLjQ5IUe\",\"drafts_how-to-tackle-with-a-noisy-roommate.md\":\"sLHDpF33\",\"drafts_作业.md\":\"CIMevtAA\",\"index.md\":\"6tgIVf6U\",\"learning_a-crawler-project-for-university-mentors.md\":\"D0_69T8A\",\"learning_a-short-guide-to-wallesspku.md\":\"D0lfORlt\",\"learning_a-tiled-windows-manager-on-windows.md\":\"tlEGz9wU\",\"learning_about-my-archlinux.md\":\"mi3xD40-\",\"learning_how-to-make-maven-accept-http.md\":\"Zpne6qwi\",\"learning_how-to-make-your-terminal-work-on-with-clash-for-windows.md\":\"i-98lYMx\",\"learning_how-to-ssh-into-a-windows-vm-behind-qemu.md\":\"Bs6_4a0a\",\"learning_index.md\":\"CrL2UfeG\",\"learning_my-3rd-game-jam-experience.md\":\"niscc_10\",\"learning_my-backup-solution.md\":\"wo_3LPs2\",\"learning_my-first-two-game-jam-experiences.md\":\"B1SI4bg9\",\"learning_my-server.md\":\"CYQhTT2i\",\"learning_reinstall-my-windows11.md\":\"D7QbIAXd\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"k88936's blogs\",\"description\":\"A VitePress Site\",\"base\":\"/blogs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/icon.png\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Learning\",\"link\":\"/learning/\"},{\"text\":\"Diary\",\"link\":\"/diary/\"},{\"text\":\"Art\",\"link\":\"/art/\"},{\"text\":\"About\",\"link\":\"/about\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/k88936\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>