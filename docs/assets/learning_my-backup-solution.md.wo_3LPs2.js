import{_ as s,c as a,o as t,af as l}from"./chunks/framework.CgieQmbq.js";const c=JSON.parse('{"title":"My backup solution","description":"","frontmatter":{"date":"2025-3-5","title":"My backup solution"},"headers":[],"relativePath":"learning/my-backup-solution.md","filePath":"learning/my-backup-solution.md"}'),e={name:"learning/my-backup-solution.md"};function h(n,i,p,k,r,d){return t(),a("div",null,[...i[0]||(i[0]=[l(`<p>前几天wsl挂载错误手欠unregister了一下，把整个vhd给删了，又陆陆续续花了几天重新配环境，痛定思痛，决定好好备份一下。</p><h1 id="xxxrc等配置文件" tabindex="-1">.xxxrc等配置文件 <a class="header-anchor" href="#xxxrc等配置文件" aria-label="Permalink to “.xxxrc等配置文件”">​</a></h1><p>包括.vimrc等，还额外存了一个软件包列表。</p><ul><li>arch backup</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Qe</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $1}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .configure/backup/arch_packages</span></span></code></pre></div><p>恢复</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .configure/backup/arch_packages</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --noconfirm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --needed</span></span></code></pre></div><ul><li>win scoop backup</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;NR &gt; 3 &amp;&amp; $1 != &quot;&quot; {print $1}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .configure/backup/scoop_packages</span></span></code></pre></div><p>retore</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bucket</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extras</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bucket</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> java</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .configure/backup/scoop_packages</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div><p>这部分大多是文本文件，直接在root建仓库丢gitee上</p><blockquote><p>成本：0</p></blockquote><h1 id="archlinux全盘备份" tabindex="-1">archlinux全盘备份 <a class="header-anchor" href="#archlinux全盘备份" aria-label="Permalink to “archlinux全盘备份”">​</a></h1><p>archlinux真机有1t固态，用了100多g，dd了个200g的文件，mkfs成ext4，用rsync从根目录复制进去。</p><blockquote><p>成本：0</p></blockquote><p>archlinux真机自带一个sd卡槽，淘宝一个512g tf卡，竟然还带sd转接的套，把备份文件复制到上面。</p><p>大概传了一晚上，学校晚上断电，但是电池撑到了第二天早上。<br> 之前想过直接rsync到tf卡上面去，但是那个tf卡不支持日志系统，格式化成ext4失败，而且读写速度感人，于是放弃。<br> 但是我再用windows读取不了了，无所谓了。</p><blockquote><p>成本：26 小作坊真是量大管饱</p></blockquote><p>当然我有个外接的4tb机械硬盘，丢进去。<br> 买的时候写错地址给送到江苏去了。</p><blockquote><p>成本：500加硬盘座 还可以吧，存点别的也能用上</p></blockquote><h1 id="wsl" tabindex="-1">WSL <a class="header-anchor" href="#wsl" aria-label="Permalink to “WSL”">​</a></h1><p>这方面比较简单，export到vhdx，再重新import in place每次读写都是对vhdx文件了，备份直接复制，机械，固态，tf卡随处丢一份。</p><p>wsl 有个.wslconfig，直接把上面那个仓库克隆到目录里，git add 这个一起同步了。这样我的.vimrc .ideavimrc也能够复用了，之前没在win上用jetbrains就是因为复制配置文件到win上麻烦。</p><p>成本：0？</p><h1 id="windows全盘备份" tabindex="-1">windows全盘备份 <a class="header-anchor" href="#windows全盘备份" aria-label="Permalink to “windows全盘备份”">​</a></h1><p>win在这方面还是很友好的，自带的备份恢复就够用</p><p>额外安了块2t的固态，不算成本吧。本来c盘就不够用了</p><h1 id="媒体文件" tabindex="-1">媒体文件 <a class="header-anchor" href="#媒体文件" aria-label="Permalink to “媒体文件”">​</a></h1><p>在用syncthing，多平台都有，能自动把我的手机相册备份到电脑上。在电脑上我再定期打包，机械，固态，tf卡各丢一份，这部分自动化脚本没考虑，我手机256g从前年暑校到上个月存满照片视频，频率很低了。</p><h1 id="百度网盘" tabindex="-1">百度网盘 <a class="header-anchor" href="#百度网盘" aria-label="Permalink to “百度网盘”">​</a></h1><p>小水管我的解决方法：</p><p>首先不想让百度之流进我的电脑手机。</p><p>其次脚本api啥的看过先例给封号了，网盘里还有别的东西，不敢冒险。</p><p>一个闲置手机（vivo x5，安卓5.0没错是5.0还不是5.1，当年有个游戏就是不到5.1玩不了。高中时用来作业帮，还费了大劲降级，root，搞linux deploy，配vim，写java.......算是linux启蒙了）拿到大学配了ftp，当然也用过上面提到的syncthing，然后用百度网盘的相册自动上传，外接充电宝（没忘我们学校晚上断电吧），也作为一个24小时小水管下载东西.第一学期期末就坏了，现在丢在老家了，是个功臣。</p><p>其实不用root，syncthing安卓端加百度网盘自动备份就够了，现在还缺一个旧手机.</p>`,36)])])}const g=s(e,[["render",h]]);export{c as __pageData,g as default};
